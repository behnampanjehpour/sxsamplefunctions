For one of my projects, the client asked to have the specific item from several other custom posts, so I added this section for each page that he wanted and used custom fields and set them to the target page, what it does is going to add a filter section in each page based on the custom fields that I created, also if the client doesn't select any specific post it is going to show most recent post. I also added some comments for each section so the other developers can find the codes and make any changes they want.
At the bottom, I added another function for CF7 forms so when the client fills out the form by using geo API it gets the country and province of the client based on his IP and set it as a function for use in the dynamic hidden field inside the CF7 form. I also add a function to get the date of sending the form so it simply returns the date format that I added to the CF7 form as a result when a client sends a form all three values will be stored at those functions and will be accessible for admin.
I had make some changes in the geo function since if the sending pass 15 requests per minutes for each id it will return fatal error inside the browser so I rearrange the function with an if statement so if is false it is not going to unserialize API so we won't get the error at on the browser.